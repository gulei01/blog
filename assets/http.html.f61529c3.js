import{e}from"./app.eb5e24ec.js";import{_ as a}from"./plugin-vue_export-helper.21dcd24c.js";const r={},s=e(`<h2 id="_307-hsts-\u91CD\u5B9A\u5411" tabindex="-1"><a class="header-anchor" href="#_307-hsts-\u91CD\u5B9A\u5411" aria-hidden="true">#</a> 307 HSTS \u91CD\u5B9A\u5411</h2><h3 id="\u4E86\u89E3-hsts" tabindex="-1"><a class="header-anchor" href="#\u4E86\u89E3-hsts" aria-hidden="true">#</a> \u4E86\u89E3 HSTS</h3><p>HSTS(HTTP Strict Transport Security)\u3002\u5B83\u544A\u8BC9\u6D4F\u89C8\u5668\u53EA\u80FD\u901A\u8FC7 HTTPS \u8BBF\u95EE\u5F53\u524D\u8D44\u6E90\uFF0C\u800C\u4E0D\u662F HTTP\u3002</p><p>\u73B0\u4EE3\u6D4F\u89C8\u5668\u548C\u670D\u52A1\u5668\u90FD\u5F00\u59CB\u652F\u6301 HSTS(HTTP Strict Transport Security) \u529F\u80FD\uFF0C\u5373\u81EA\u52A8\u5C06\u4E0D\u5B89\u5168\u7684 HTTP \u8BF7\u6C42\u4F7F\u7528 307 Internal Redirect \u8DF3\u8F6C\u5230 HTTPS \u8BF7\u6C42\u3002\u8FD9\u662F\u7531 Chrome \u5185\u90E8 HSTS \u7F13\u5B58\u5BFC\u81F4\u7684\u3002Chrome \u4F1A\u81EA\u52A8\u8BB0\u4F4F\u6BCF\u4E2A\u57DF\u7684 HSTS \u8BBE\u7F6E\uFF0C\u4E5F\u5C31\u662F\u8BF4 HSTS \u53EA\u8981\u5728\u7406\u8BBA\u4E0A\u7684\u7B2C\u4E00\u6B21\u66B4\u9732\u540E\uFF0C\u540E\u6765\u5C31\u4E0D\u7ECF\u7F51\u9875\u670D\u52A1\u5668\u8FD4\u56DE\uFF0C\u6D4F\u89C8\u5668\u4F1A\u67E5\u8BE2\u672C\u5730\u6570\u636E\uFF0C\u76F4\u63A5\u4F2A\u9020 HSTS 307 \u8DF3\u8F6C\u5230\u5B89\u5168\u7684 HTTPS\uFF0C\u4EE5\u6B64\u6765\u52A0\u5F3A\u7F51\u7EDC\u8BBF\u95EE\u7684\u5B89\u5168\u6027\u3002</p><p>\u95EE\u9898\u662F\uFF0C\u662F\u8C01\u544A\u8BC9\u6D4F\u89C8\u5668\u8FD9\u4E48\u505A\u7684\u5462\uFF1F \u539F\u56E0\u662F\u5728 nginx \u914D\u7F6E\u4E2D\u6709\u8FD9\u4E48\u4E00\u6BB5\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>add_header Strict-Transport-Security max-age=31622400;
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u8FD9\u91CC\u610F\u601D\u662F\u901A\u77E5\u6D4F\u89C8\u5668\uFF0C\u8BBF\u95EE\u7684\u8FD9\u4E2A\u57DF\u540D\u9700\u8981\u91C7\u7528 HSTS \u7B56\u7565\uFF0C\u5E76\u4E14\u8FC7\u671F\u65F6\u95F4\u662F 31622400 \u79D2(\u4E00\u5E74)\uFF0C\u5728\u8FD9\u4E00\u5E74\u4E2D\u90FD\u9700\u8981\u4F7F\u7528 HSTS \u7B56\u7565\uFF0C\u610F\u5473\u7740\u53D1\u8D77 http \u8BF7\u6C42\u65F6\uFF0C\u6D4F\u89C8\u5668\u90FD\u4F1A\u5F3A\u884C\u8FDB\u884C 307 \u5185\u90E8\u8DF3\u8F6C\u3002</p><p>\u7136\u540E\u56E0\u4E3A 307 \u8DF3\u8F6C\u88AB cors \u9884\u68C0\u8BF7\u6C42\u8BA4\u4E3A\u662F\u4E0D\u5408\u6CD5\u7684\uFF0C\u6545\u6B64\u9884\u68C0\u5931\u8D25\uFF1A</p><h3 id="\u89E3\u51B3\u65B9\u6848" tabindex="-1"><a class="header-anchor" href="#\u89E3\u51B3\u65B9\u6848" aria-hidden="true">#</a> \u89E3\u51B3\u65B9\u6848</h3><ol><li>\u5C06 nginx \u4E2D\u914D\u7F6E\u7684 Strict-Transport-Security \u6CE8\u91CA \u6216\u8005 \u65F6\u95F4\u8BBE\u4E3A 0</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>server {undefined
listen 443 ssl;
server_name www.example.com;
#add_header Strict-Transport-Security &quot;max-age=31536000;
add_header Strict-Transport-Security &quot;max-age=0;
}
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ol start="2"><li>chrome://net-internals/#hsts</li></ol><p>delete domain security plicies www.example.com</p>`,13);function n(t,i){return s}var d=a(r,[["render",n]]);export{d as default};
